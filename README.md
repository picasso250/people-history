
# 《众语史书》 MVP 前端

这是《众语史书》(People's History) 项目的最小可行产品 (MVP) 的前端实现，基于 Vite + Svelte 构建。

它实现了“铭刻祭坛”的核心功能，允许用户连接钱包，并将文本铭刻到 Arbitrum One 主网的智能合约上。

## 项目设置

1.  **安装依赖**
    ```bash
    npm install
    ```

2.  **启动开发服务器**
    ```bash
    npm run dev
    ```
    现在，在浏览器中打开 `http://localhost:5173` 即可访问 MVP 界面。

## 核心功能

- **连接钱包**: 支持连接 MetaMask 等浏览器钱包。
- **网络切换**: 如果用户当前不处于 Arbitrum One 网络，会自动提示并帮助切换。
- **铭刻文本**: 调用主网合约的 `inscribe` 方法，将文本框内容上链。
- **状态反馈**: 实时显示交易状态（等待签名、铭刻中、等待确认）。
- **成功视图**: 铭刻成功后，展示交易哈希 (TxHash)，并提供一键复制和 Arbiscan 浏览器链接。


---
## 最近铭刻 (Recent Inscriptions)

本项目采用一种**“本地优先的混合馈送模型”**来展示最近的铭刻记录，以在解决冷启动问题的同时，保证数据的实时性和去中心化特性。

### 快照生成

在项目构建或部署前，可以运行一个工具脚本来生成一个包含历史上最新10条记录的静态 `json` 文件。

    # 这会连接到主网，扫描历史记录，并生成 src/lib/history_snapshot.json
    npm run snapshot

### 前端逻辑

前端页面会首先加载并显示这个快速的“快照”文件，同时并行地去扫描链上最近的区块以获取实时数据。最终，两组数据会合并、去重并按时间排序，为用户提供最佳体验。